<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Blockly Demo: Custom RoBlockWar Blocks</title>
  <script src="../bin/blockly_compressed.js"></script>
  <script src="../bin/blocks_compressed.js"></script>
  <script src="../bin/en.js"></script>
  <script src="../bin/javascript_compressed.js"></script>
  <script src="../bin/roblockwar.blocks.js"></script>
  
  
  <style>
     html, body {
        background-color: #000;
        margin: 0;
        padding: 0;
        overflow: hidden;
        height: 100%;
      }
      .blocklySvg {
        height: 100%;
        width: 100%;
        background-color: #000;
      }
  </style>
  
  <script>
    function init() {
        Blockly.inject(document.body, {toolbox: document.getElementById('toolbox'), collapse: false, disable: false});
        
        var xml_text = document.getElementById('DefaultWorkSpace').outerHTML;
        var xml = Blockly.Xml.textToDom(xml_text);
        Blockly.Xml.domToWorkspace(Blockly.mainWorkspace, xml);
        
        window.parent.blocklyLoaded(Blockly);
    }
  </script>
</head>
<body onload="init()">
  <xml id="toolbox" style="display: none">
    <category name="Program Flow">
      <block type="roblockwar.while"></block>
      <block type="roblockwar.if"></block>
      <block type="logic_compare"></block>
    </category>
    <category name="Instructions">
      <block type="roblockwar.getRegister"></block>
      <block type="roblockwar.setRegister"></block>
      <block type="roblockwar.radar"></block>
      <block type="roblockwar.fire"></block>
      <block type="math_number"></block>
      <block type="math_arithmetic"></block>
    </category>
    <category name="Instruction Groups" custom="PROCEDURE">
    </category>
  </xml>
  
  <xml xmlns="http://www.w3.org/1999/xhtml" id="DefaultWorkSpace" style="display:none;">
    <block type="roblockwar.setRegister" id="2" inline="true"><field name="RegisterName">SPEEDX</field><value name="RegisterValue"><block type="math_number" id="3"><field name="NUM">10</field></block></value><next><block type="roblockwar.setRegister" id="4" inline="true"><field name="RegisterName">SPEEDY</field><value name="RegisterValue"><block type="math_number" id="50"><field name="NUM">10</field></block></value><next><block type="roblockwar.setRegister" id="60" inline="true"><field name="RegisterName">T</field><value name="RegisterValue"><block type="math_number" id="67"><field name="NUM">10000</field></block></value><next><block type="roblockwar.while" id="28" inline="false"><comment pinned="false" h="80" w="160">Right click on any block to add comments</comment><value name="condition"><block type="logic_compare" id="29" inline="true"><field name="OP">GT</field><value name="A"><block type="roblockwar.getRegister" id="74"><field name="RegisterName">T</field></block></value><value name="B"><block type="math_number" id="31"><field name="NUM">0</field></block></value></block></value><statement name="commands"><block type="roblockwar.setRegister" id="75" inline="true"><field name="RegisterName">T</field><value name="RegisterValue"><block type="math_arithmetic" id="77" inline="true"><field name="OP">MINUS</field><value name="A"><block type="roblockwar.getRegister" id="78"><field name="RegisterName">T</field></block></value><value name="B"><block type="math_number" id="79"><field name="NUM">1</field></block></value></block></value><next><block type="roblockwar.while" id="6" inline="false"><value name="condition"><block type="logic_compare" id="7" inline="true"><field name="OP">LT</field><value name="A"><block type="roblockwar.getRegister" id="8"><field name="RegisterName">X</field></block></value><value name="B"><block type="math_number" id="9"><field name="NUM">450</field></block></value></block></value><statement name="commands"><block type="roblockwar.setRegister" id="18" inline="true"><field name="RegisterName">SPEEDX</field><value name="RegisterValue"><block type="math_number" id="21"><field name="NUM">10</field></block></value></block></statement><next><block type="roblockwar.setRegister" id="80" inline="true"><field name="RegisterName">SPEEDX</field><value name="RegisterValue"><block type="math_number" id="81"><field name="NUM">0</field></block></value><next><block type="roblockwar.while" id="82" inline="false"><value name="condition"><block type="logic_compare" id="83" inline="true"><field name="OP">LT</field><value name="A"><block type="roblockwar.getRegister" id="84"><field name="RegisterName">Y</field></block></value><value name="B"><block type="math_number" id="85"><field name="NUM">450</field></block></value></block></value><statement name="commands"><block type="roblockwar.setRegister" id="86" inline="true"><field name="RegisterName">SPEEDY</field><value name="RegisterValue"><block type="math_number" id="87"><field name="NUM">10</field></block></value></block></statement><next><block type="roblockwar.setRegister" id="94" inline="true"><field name="RegisterName">SPEEDY</field><value name="RegisterValue"><block type="math_number" id="95"><field name="NUM">0</field></block></value><next><block type="roblockwar.while" id="88" inline="false"><value name="condition"><block type="logic_compare" id="89" inline="true"><field name="OP">GT</field><value name="A"><block type="roblockwar.getRegister" id="90"><field name="RegisterName">X</field></block></value><value name="B"><block type="math_number" id="91"><field name="NUM">50</field></block></value></block></value><statement name="commands"><block type="roblockwar.setRegister" id="92" inline="true"><field name="RegisterName">SPEEDX</field><value name="RegisterValue"><block type="math_number" id="93"><field name="NUM">-10</field></block></value></block></statement><next><block type="roblockwar.setRegister" id="99" inline="true"><field name="RegisterName">SPEEDX</field><value name="RegisterValue"><block type="math_number" id="100"><field name="NUM">0</field></block></value><next><block type="roblockwar.while" id="101" inline="false"><value name="condition"><block type="logic_compare" id="102" inline="true"><field name="OP">GT</field><value name="A"><block type="roblockwar.getRegister" id="103"><field name="RegisterName">Y</field></block></value><value name="B"><block type="math_number" id="104"><field name="NUM">50</field></block></value></block></value><statement name="commands"><block type="roblockwar.setRegister" id="105" inline="true"><field name="RegisterName">SPEEDY</field><value name="RegisterValue"><block type="math_number" id="106"><field name="NUM">-10</field></block></value></block></statement><next><block type="roblockwar.setRegister" id="107" inline="true"><field name="RegisterName">SPEEDY</field><value name="RegisterValue"><block type="math_number" id="108"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block>
  </xml>
</body>
</html>